<!DOCTYPE html>
<html lang="es">
    <head>
        <meta charset="UTF-8">
        <title>Gestión de Contratos - Sistema</title>
        <script>
            const rolesPermitidos = ['ADMINISTRADOR', 'INVESTIGADOR'];
            const userRole = sessionStorage.getItem('userRole');
            if (!userRole || !rolesPermitidos.includes(userRole)) {
                alert('Acceso denegado.');
                window.location.href = '/vistas/dashboard.html';
            }
        </script>
        <link rel="stylesheet" href="/resources/css/style.css">
    </head>
    <body>

        <header class="page-header">
            <h1>Gestión de Contratos</h1>
            <a href="/vistas/dashboard.html" class="btn-volver">Volver al Dashboard</a>
        </header>

        <main class="content-wrapper">

            <div class="form-container">
                <form id="contrato-form">
                    <input type="hidden" id="contrato-id">

                    <div class="form-group">
                        <label for="vigilanteId">Vigilante:</label>
                        <select id="vigilanteId" required>
                            <option value="">Cargando vigilantes...</option>
                        </select>
                    </div>

                    <div class="form-group">
                        <label for="sucursalId">Sucursal Bancaria:</label>
                        <select id="sucursalId" required>
                            <option value="">Cargando sucursales...</option>
                        </select>
                    </div>

                    <div class="form-group">
                        <label for="horasTrabajadas">Horas Trabajadas:</label>
                        <input type="number" id="horasTrabajadas" required>
                    </div>

                    <div class="form-group">
                        <label for="fechaInicio">Fecha Inicio Jornada:</label>
                        <input type="date" id="fechaInicio" required>
                    </div>

                    <div class="form-group">
                        <label for="fechaFin">Fecha Fin Jornada:</label>
                        <input type="date" id="fechaFin" required>
                    </div>

                    <div class="form-group">
                        <label for="conArma">
                            <input type="checkbox" id="conArma">
                            ¿Porta arma?
                        </label>
                    </div>

                    <div class="form-actions">
                        <button type="submit" class="btn-guardar">Guardar Contrato</button>
                        <button type="button" id="btn-cancelar" class="btn-cancelar">Cancelar</button>
                    </div>
                </form>
            </div>

            <div class="table-container">
                <h2>Lista de Contratos</h2>
                <table class="data-table">
                    <thead>
                        <tr>
                            <th>ID Vigilante</th>
                            <th>ID Sucursal</th>
                            <th>Arma</th>
                            <th>Horas</th>
                            <th>Inicio</th>
                            <th>Fin</th>
                            <th>Acciones</th>
                        </tr>
                    </thead>
                    <tbody id="contratos-tabla-body">
                    </tbody>
                </table>
            </div>

        </main>

        <script src="/js/gestionar-contratos.js"></script>
    </body>
</html>